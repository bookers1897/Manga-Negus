# MangaNegus v3.1 Environment Configuration
# Copy this file to .env and fill in your values

# =============================================================================
# DATABASE CONFIGURATION
# =============================================================================

# PostgreSQL connection string (recommended for production)
# Format: postgresql://username:password@hostname:port/database
DATABASE_URL=postgresql://manganegus:your_password_here@localhost:5432/manganegus

# SQLite fallback (automatic if DATABASE_URL not set)
# Good for development, not recommended for production
# DATABASE_URL=sqlite:///manganegus.db


# =============================================================================
# FLASK CONFIGURATION
# =============================================================================

# Flask secret key (generate with: python -c "import secrets; print(secrets.token_hex(32))")
SECRET_KEY=your_secret_key_here

# Flask environment (development or production)
FLASK_ENV=development

# Debug mode (True for development, False for production)
FLASK_DEBUG=True

# Skip Playwright-backed sources (e.g., mangafire_v2) in restricted environments
SKIP_PLAYWRIGHT_SOURCES=0


# =============================================================================
# EXTERNAL API KEYS (Optional but recommended for MetaForge features)
# =============================================================================

# AniList (GraphQL API) - No API key required!
# Just use it: https://anilist.co/graphiql

# MyAnimeList via Jikan v4 - No API key required!
# Public API: https://api.jikan.moe/v4

# Kitsu (JSON:API) - No API key required!
# Public API: https://kitsu.io/api/edge

# Shikimori - Requires User-Agent header only
# SHIKIMORI_USER_AGENT=MangaNegus/3.1 (+https://github.com/yourusername/Manga-Negus)

# MangaUpdates - No API key required for basic access
# API Docs: https://api.mangaupdates.com/v1/docs


# =============================================================================
# RATE LIMITING (Requests per minute for each API)
# =============================================================================

ANILIST_RATE_LIMIT=90
JIKAN_RATE_LIMIT=60
KITSU_RATE_LIMIT=60
SHIKIMORI_RATE_LIMIT=300
MANGAUPDATES_RATE_LIMIT=30


# =============================================================================
# CACHE CONFIGURATION
# =============================================================================

# Metadata cache TTL (in seconds)
METADATA_CACHE_TTL_STATIC=2592000   # 30 days for static data (titles, genres)
METADATA_CACHE_TTL_DYNAMIC=86400    # 24 hours for ratings/stats
METADATA_CACHE_TTL_STATUS=604800    # 7 days for release status

# Search result cache TTL (in seconds)
SEARCH_CACHE_TTL=3600  # 1 hour


# =============================================================================
# DOWNLOAD CONFIGURATION
# =============================================================================

# Maximum concurrent downloads
MAX_CONCURRENT_DOWNLOADS=3

# Download directory (relative to project root)
DOWNLOAD_DIR=static/downloads

# Image quality (hd or data_saver)
DEFAULT_IMAGE_QUALITY=hd


# =============================================================================
# ADVANCED SETTINGS
# =============================================================================

# Database connection pool size (PostgreSQL only)
DB_POOL_SIZE=10
DB_MAX_OVERFLOW=20
DB_POOL_RECYCLE=3600

# Request timeout (in seconds)
REQUEST_TIMEOUT=30

# Log level (DEBUG, INFO, WARNING, ERROR, CRITICAL)
LOG_LEVEL=INFO

# Cloudflare bypass settings
CLOUDSCRAPER_BROWSER=chrome
CURL_CFFI_IMPERSONATE=chrome120
